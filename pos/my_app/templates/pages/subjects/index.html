{% extends "index.html" %}
{% load static %}
{% block content %}
<section class="content">
  <div class="row">
    <!-- Left col -->
    <section class="col-lg-12 connectedSortable">
      <div class="box box-primary">
        <!-- Header -->
        <div class="box-header">
          <i class="glyphicon glyphicon-plus"></i>
          <h3 class="box-title">
            <a href="/subject/show/">Add Subject</a>
          </h3>
          {% if messages %}
            <div style="margin-top: 10px;">
              {% for message in messages %}
                <span style="color:green; margin-right: 10px;">{{ message }}</span>
              {% endfor %}
            </div>
          {% endif %}
        </div>

        <!-- Table -->
        <div class="box-body">
          <table class="table table-bordered table-hover">
            <thead>
              <tr>
                <th>Id</th>
                <th>Subject Name</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              {% for item in subjects %}
              <tr>
                <td>{{ item.id }}</td>
                <td>{{ item.subject_name }}</td>
                <td>
                  <a href="/subject/edit_by_id/{{ item.id }}/" class="btn btn-primary btn-sm">Edit</a>
                  <a href="/subject/delete_by_id/{{ item.id }}/" class="btn btn-danger btn-sm"
                     onclick="return confirm('Are you sure you want to delete this subject?');">Delete</a>
                </td>
              </tr>
              {% empty %}
              <tr>
                <td colspan="3" class="text-center">No subjects found.</td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>

        <!-- Footer / Pagination -->
        <div class="box-footer clearfix no-border">
          <div>
            <p>Item Count: {{ count_item }}</p>
            <p>Page {{ subjects.number }} of {{ subjects.paginator.num_pages }}</p>
          </div>

          <ul class="pagination">
            {% if subjects.has_previous %}
              <li><a href="?page=1" style="color:white;background-color:green">&laquo; first</a></li>
              <li><a href="?page={{ subjects.previous_page_number }}" style="color:white;background-color:mediumblue">previous</a></li>
            {% else %}
              <li><a style="color:white;background-color:mediumblue">previous</a></li>
            {% endif %}

            {% for i in subjects.paginator.page_range %}
              {% if subjects.number == i %}
                <li><a href="#" style="color:white;background-color: blue;">{{ i }}</a></li>
              {% else %}
                <li><a href="?page={{ i }}" style="color:black;">{{ i }}</a></li>
              {% endif %}
            {% endfor %}

            {% if subjects.has_next %}
              <li><a href="?page={{ subjects.next_page_number }}" style="color:white;background-color:green">next</a></li>
              <li><a href="?page={{ subjects.paginator.num_pages }}" style="color:white;background-color:mediumblue">last &raquo;</a></li>
            {% endif %}
          </ul>
        </div>
      </div><!-- /.box -->
    </section>
  </div>
</section>
{% endblock %}
